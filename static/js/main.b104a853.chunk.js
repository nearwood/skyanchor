(this.webpackJsonpskyanchor=this.webpackJsonpskyanchor||[]).push([[0],{71:function(e,a,t){e.exports=t(84)},76:function(e,a,t){},78:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),o=(t(76),t(16)),i=t.n(o),s=t(36),u=t(23),m=t(9),d=t(26),p=t(128),f=t(155),v=t(157),E=t(147),h=t(148),b=t(17),g=t(150),w=t(151),y=t(152),j=t(158),O=t(153),k=t(154),x=t(149),S=t(156),N=t(38),A=t.n(N),C=(t(78),t(159)),W=t(135),D=t(136),T=t(137),F=t(138),H=t(139),B=t(140),I=t(130),U=t(134),M=t(133),P=t(131),z=t(132),L=Object(p.a)((function(e){return{root:{maxWidth:345},noWrap:{whiteSpace:"nowrap"},extraData:Object(d.a)({},e.breakpoints.down("xs"),{display:"none"})}}));function R(e){var a=e.data,t=L();return Array.isArray(a)?r.a.createElement(I.a,{size:"small","aria-label":"hourly weather table"},r.a.createElement(P.a,null,r.a.createElement(z.a,null,r.a.createElement(M.a,null,"Time"),r.a.createElement(M.a,{align:"right"},"Forecast"),r.a.createElement(M.a,{align:"right"},"Temperature"),r.a.createElement(M.a,{align:"right",className:t.extraData},"Wind"))),r.a.createElement(U.a,null,a.map((function(e){return r.a.createElement(z.a,{key:e.startTime},r.a.createElement(M.a,{component:"th",scope:"row"},(a=e.startTime,new Date(a).getHours()),":00"),r.a.createElement(M.a,{align:"right"},e.shortForecast),r.a.createElement(M.a,{align:"right",className:t.noWrap},"".concat(e.temperature," \xb0").concat(e.temperatureUnit)),r.a.createElement(M.a,{align:"right",className:"".concat(t.noWrap," ").concat(t.extraData)},"".concat(e.windSpeed," ").concat(e.windDirection)));var a})))):null}var G=Object(p.a)((function(e){return{forecast:{fontSize:"1.2em"},nowrap:{whiteSpace:"nowrap"},avatar:{width:e.spacing(8),height:e.spacing(8)},divider:{margin:"4px 0"},card:{margin:e.spacing(1)}}}));function J(e){var a=e.period,t=e.hourlyData,c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],s=G();if(!Array.isArray(t)||"object"!==typeof a)return null;return r.a.createElement(W.a,{className:s.card},r.a.createElement(D.a,{onClick:function(){return t.length>0?i(!o):void 0}},r.a.createElement(T.a,{avatar:r.a.createElement(C.a,{src:a.icon,variant:"square","aria-label":"weather icon",className:s.avatar}),title:r.a.createElement("span",{className:s.forecast},r.a.createElement("span",{className:s.nowrap},a.name)," - ",r.a.createElement("span",{className:s.nowrap},"".concat(a.temperature," \xb0").concat(a.temperatureUnit))," - ",r.a.createElement("span",{"aria-label":"brief forecast"},a.shortForecast)),subheader:function(e){var a=new Date(e);return null===a||void 0===a?void 0:a.toLocaleDateString()}(a.startTime)})),o&&r.a.createElement(F.a,null,r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p"}," ",a.detailedForecast," "),r.a.createElement(H.a,{variant:"middle",className:s.divider}),r.a.createElement(R,{data:t})))}function _(){var e=G();return r.a.createElement(W.a,{className:e.card},r.a.createElement(T.a,{avatar:r.a.createElement(B.a,{animation:"wave",variant:"rect",className:e.avatar}),title:r.a.createElement(B.a,{animation:"wave",height:24,width:"66%",style:{marginBottom:6}}),subheader:r.a.createElement(B.a,{animation:"wave",height:10,width:"25%"})}))}var q=t(146),$=t(142),K=t(145),Q=t(144),V=t(143),X=t(24),Y=t(141),Z=t(37),ee=t.n(Z),ae=Object(p.a)((function(e){return{alertHeader:{backgroundColor:e.palette.warning.light},alertHeaderIcon:{position:"relative",top:4},divider:{width:"100%",height:e.spacing(1)},noWrap:{whiteSpace:"nowrap"}}}));function te(e){var a=e.open,t=e.onClose,n=e.data,c=Object(X.a)(),l=Object(Y.a)(c.breakpoints.down("sm")),o=r.a.createElement("div",null,"No active alerts");return Array.isArray(n)&&n.length>0&&(o=n.map((function(e){return r.a.createElement(ne,{key:e.id,alert:e.properties})}))),r.a.createElement($.a,{fullScreen:l,open:a,"aria-labelledby":"alert-dialog-title"},r.a.createElement(V.a,{id:"alert-dialog-title"},"Weather Alerts"),r.a.createElement(Q.a,null,o),r.a.createElement(K.a,null,r.a.createElement(q.a,{autoFocus:!0,onClick:t,color:"primary"},"Close")))}function ne(e){var a=e.alert,t=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{size:"small","aria-label":"weather alerts/advisories"},r.a.createElement(P.a,{className:t.alertHeader},r.a.createElement(z.a,null,r.a.createElement(M.a,{align:"left"},r.a.createElement(re,{level:a.severity})),r.a.createElement(M.a,{align:"right"},a.event))),r.a.createElement(U.a,null,r.a.createElement(z.a,null,r.a.createElement(M.a,{component:"th",colSpan:2},a.headline)),r.a.createElement(z.a,null,r.a.createElement(M.a,{align:"center",colSpan:2},a.areaDesc)),r.a.createElement(z.a,null,r.a.createElement(M.a,{align:"left"},"Effective:"),r.a.createElement(M.a,{align:"right"},a.effective)),r.a.createElement(z.a,null,r.a.createElement(M.a,{align:"left"},"Expires:"),r.a.createElement(M.a,{align:"right"},a.expires)))),r.a.createElement("div",{className:t.divider}))}function re(e){var a=e.level,t=ae();switch(a){default:case"Unknown":return null;case"Minor":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon}),r.a.createElement("span",null,"Minor"));case"Moderate":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"primary"}),r.a.createElement("span",null,"Moderate"));case"Severe":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"secondary"}),r.a.createElement("span",null,"Severe"));case"Extreme":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"error"}),r.a.createElement("span",null,"Extreme"))}}var ce=Object(p.a)((function(e){var a;return{root:{},drawerContainer:{display:"flex"},appBar:(a={display:"none"},Object(d.a)(a,e.breakpoints.down("sm"),{display:"block"}),Object(d.a)(a,"marginBottom",e.spacing(1)),a),drawer:Object(d.a)({flexBasis:208,flexGrow:1,display:"none"},e.breakpoints.up("md"),{display:"inline-block"}),drawerPaper:{width:208},forecast:{width:"calc(100% - ".concat(208,"px)"),flexShrink:1},list:{paddingTop:0},listHeader:{backgroundColor:e.palette.primary.dark,color:"white"},toolbar:{position:"relative"},title:{flexGrow:1},progress:{color:"gold"}}}));function le(){var e=Object(n.useState)(oe.initial),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(oe.initial),o=Object(m.a)(l,2),d=o[0],p=o[1],N=Object(n.useState)(oe.initial),C=Object(m.a)(N,2),W=C[0],D=C[1],T=Object(n.useState)(oe.initial),F=Object(m.a)(T,2),H=F[0],B=F[1],I=Object(n.useState)(oe.initial),U=Object(m.a)(I,2),M=U[0],P=U[1],z=[t,d,W,H,M],L=Object(n.useState)([]),R=Object(m.a)(L,2),G=R[0],q=R[1],$=Object(n.useState)([]),K=Object(m.a)($,2),Q=K[0],V=K[1],X=Object(n.useState)(null),Y=Object(m.a)(X,2),Z=Y[0],ee=Y[1],ae=Object(n.useState)(null),ne=Object(m.a)(ae,2),re=ne[0],le=ne[1],ue=Object(n.useState)(""),me=Object(m.a)(ue,2),de=me[0],pe=me[1],fe=Object(n.useState)(null),ve=Object(m.a)(fe,2),Ee=ve[0],he=ve[1],be=Object(n.useState)(null),ge=Object(m.a)(be,2),we=ge[0],ye=ge[1],je=Object(n.useState)(null),Oe=Object(m.a)(je,2),ke=Oe[0],xe=Oe[1],Se=Object(n.useState)(null),Ne=Object(m.a)(Se,2),Ae=Ne[0],Ce=Ne[1],We=Object(n.useState)(null),De=Object(m.a)(We,2),Te=De[0],Fe=De[1],He=Object(n.useState)(null),Be=Object(m.a)(He,2),Ie=Be[0],Ue=Be[1],Me=Object(n.useState)(!1),Pe=Object(m.a)(Me,2),ze=Pe[0],Le=Pe[1],Re=ce();Object(n.useEffect)((function(){if(navigator.geolocation){c(oe.loading),navigator.geolocation.getCurrentPosition((function(e){ee(e.coords.latitude),le(e.coords.longitude),c(oe.loaded)}),(function(e){console.error(e),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain device position."])})),ye([]),c(oe.error)}))}else q((function(e){return[].concat(Object(u.a)(e),["Geolocation not supported in this browser."])})),c(oe.error)}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.weather.gov","/points/").concat(Z,",").concat(re)).then((function(e){return e.json()}));case 3:r=e.sent,pe(ie(null===r||void 0===r||null===(a=r.properties)||void 0===a?void 0:a.relativeLocation)),he(null===r||void 0===r||null===(t=r.properties)||void 0===t?void 0:t.forecast),xe(null===r||void 0===r||null===(n=r.properties)||void 0===n?void 0:n.forecastHourly),c="".concat(Z,",").concat(re),Fe("".concat("https://api.weather.gov","/alerts/active?status=actual&message_type=alert,update,cancel&point=").concat(encodeURIComponent(c))),p(oe.loaded),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA grid point."])})),console.error(e.t0),ye([]),p(oe.error);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}"number"===typeof Z&&"number"===typeof re&&(p(oe.loading),function(){e.apply(this,arguments)}())}),[Z,re]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Ee).then((function(e){return e.json()}));case 3:t=e.sent,ye(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),D(oe.loaded),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA forecast."])})),console.error(e.t0),ye([]),D(oe.error);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Ee&&(D(oe.loading),function(){e.apply(this,arguments)}())}),[Ee]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ke).then((function(e){return e.json()}));case 3:t=e.sent,Ce(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),B(oe.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),V((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA hourly forecast."])})),console.error(e.t0),B(oe.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}ke&&(B(oe.loading),function(){e.apply(this,arguments)}())}),[ke]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Te).then((function(e){return e.json()}));case 3:a=e.sent,Ue(null===a||void 0===a?void 0:a.features),P(oe.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),V((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA weather alerts."])})),console.error(e.t0),P(oe.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Te&&(P(oe.loading),function(){e.apply(this,arguments)}())}),[Te]);var Ge=z.every((function(e){return e===oe.loaded})),Je=Array.isArray(Ie)?Ie.length:0,_e=0===G.length&&0===Q.length&&!Ge;return r.a.createElement("div",{className:Re.root},r.a.createElement(E.a,{position:"static",className:Re.appBar},r.a.createElement(h.a,{className:Re.toolbar},r.a.createElement(b.a,{variant:"h6",noWrap:!0,className:Re.title},r.a.createElement("span",{role:"img","aria-label":"Skyanchor mobile logo"},"\ud83c\udf29\ufe0f"),r.a.createElement("span",{"aria-label":"location"},de)),_e&&r.a.createElement(x.a,{className:Re.progress}),r.a.createElement(g.a,{edge:"end",className:Re.menuButton,disabled:0===Je,color:"inherit","aria-label":"alerts",onClick:function(){return Le(!0)}},Je>0?r.a.createElement(w.a,{badgeContent:Je,color:"error"},r.a.createElement(A.a,null)):r.a.createElement(A.a,null)))),r.a.createElement("div",{className:Re.drawerContainer},r.a.createElement(v.a,{variant:"permanent",anchor:"left",className:Re.drawer,classes:{paper:Re.drawerPaper}},r.a.createElement(y.a,{component:"nav","aria-label":"weather location and options",className:Re.list},r.a.createElement(j.a,{className:Re.listHeader},r.a.createElement(O.a,null,r.a.createElement("span",{role:"img","aria-label":"Skyanchor desktop logo"},"\ud83c\udf29\ufe0f"),_e&&r.a.createElement(x.a,{size:20,className:Re.progress})),r.a.createElement(k.a,{primary:r.a.createElement("span",{"aria-label":"location"},de)})),r.a.createElement(j.a,{button:!0,disabled:0===Je,onClick:function(){return Le(!0)}},r.a.createElement(O.a,null,Je>0?r.a.createElement(w.a,{badgeContent:Je,color:"error"},r.a.createElement(A.a,null)):r.a.createElement(A.a,null)),r.a.createElement(k.a,{primary:"Alerts"})))),r.a.createElement(f.a,{container:!0,direction:"column",className:Re.forecast},G.length>0&&r.a.createElement(f.a,{item:!0,xs:12},G.map((function(e,a){return r.a.createElement(S.a,{key:a,variant:"filled",severity:"error"},e)}))),Q.length>0&&r.a.createElement(f.a,{item:!0,xs:12},Q.map((function(e,a){return r.a.createElement(S.a,{key:a,variant:"filled",severity:"warning"},e)}))),Array.isArray(we)?we.map((function(e){return r.a.createElement(f.a,{item:!0,xs:12,key:"".concat(e.number,"_").concat(e.name)},r.a.createElement(J,{period:e,hourlyData:se(Ae,e)}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null))))),r.a.createElement(te,{data:Ie,open:ze,onClose:function(){return Le(!1)}}))}var oe={initial:"initial",loading:"loading",error:"error",loaded:"loaded"};function ie(e){if(null===e||void 0===e?void 0:e.properties){var a=null===e||void 0===e?void 0:e.properties,t=a.city,n=a.state;if("string"===typeof t&&"string"===typeof n)return"".concat(t,", ").concat(n)}return""}function se(e,a){if(!Array.isArray(e)||!a)return[];var t=new Date(a.startTime),n=new Date(a.endTime);return e.filter((function(e){var a=new Date(e.startTime),r=new Date(e.endTime);return a>=t&&r<=n}))}var ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/skyanchor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/skyanchor","/service-worker.js");ue?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(a,e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.b104a853.chunk.js.map