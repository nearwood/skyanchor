(this.webpackJsonpskyanchor=this.webpackJsonpskyanchor||[]).push([[0],{72:function(e,a,t){e.exports=t(85)},77:function(e,a,t){},79:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),o=(t(77),t(16)),i=t.n(o),s=t(36),u=t(23),m=t(9),d=t(26),p=t(128),f=t(155),v=t(157),E=t(147),h=t(148),b=t(17),g=t(150),w=t(151),j=t(139),O=t(152),y=t(158),k=t(153),S=t(154),x=t(149),N=t(156),A=t(49),C=t.n(A),W=(t(79),t(159)),D=t(135),F=t(136),T=t(137),H=t(138),B=t(140),I=t(130),U=t(134),M=t(133),L=t(131),R=t(132),z=Object(p.a)((function(e){return{root:{maxWidth:345},noWrap:{whiteSpace:"nowrap"},extraData:Object(d.a)({},e.breakpoints.down("xs"),{display:"none"})}}));function P(e){var a=e.data,t=z();return r.a.createElement(I.a,{size:"small","aria-label":"hourly weather table"},r.a.createElement(L.a,null,r.a.createElement(R.a,null,r.a.createElement(M.a,null,"Time"),r.a.createElement(M.a,{align:"right"},"Forecast"),r.a.createElement(M.a,{align:"right"},"Temperature"),r.a.createElement(M.a,{align:"right",className:t.extraData},"Wind"))),r.a.createElement(U.a,null,a.map((function(e){return r.a.createElement(R.a,{key:e.startTime},r.a.createElement(M.a,{component:"th",scope:"row"},(a=e.startTime,new Date(a).getHours()),":00"),r.a.createElement(M.a,{align:"right"},e.shortForecast),r.a.createElement(M.a,{align:"right",className:t.noWrap},e.temperature," \xb0",e.temperatureUnit),r.a.createElement(M.a,{align:"right",className:"".concat(t.noWrap," ").concat(t.extraData)},e.windSpeed," ",e.windDirection));var a}))))}var G=Object(p.a)((function(e){return{forecast:{fontSize:"1.2em"},nowrap:{whiteSpace:"nowrap"},avatar:{width:e.spacing(8),height:e.spacing(8)},divider:{margin:"4px 0"},card:{margin:e.spacing(1)}}}));function J(e){var a=e.period,t=e.hourlyData,c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],s=G();return r.a.createElement(D.a,{className:s.card},r.a.createElement(F.a,{onClick:function(){return t.length>0?i(!o):void 0}},r.a.createElement(T.a,{avatar:r.a.createElement(W.a,{src:a.icon,variant:"square","aria-label":"weather icon",className:s.avatar}),title:r.a.createElement("span",{className:s.forecast},r.a.createElement("span",{className:s.nowrap},a.name)," - ",r.a.createElement("span",{className:s.nowrap},a.temperature," \xb0",a.temperatureUnit)," - ",r.a.createElement("span",null,a.shortForecast)),subheader:function(e){var a=new Date(e);return null===a||void 0===a?void 0:a.toLocaleDateString()}(a.startTime)})),o&&r.a.createElement(H.a,null,r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p"}," ",a.detailedForecast," "),r.a.createElement(j.a,{variant:"middle",className:s.divider}),r.a.createElement(P,{data:t})))}function _(){var e=G();return r.a.createElement(D.a,{className:e.card},r.a.createElement(T.a,{avatar:r.a.createElement(B.a,{animation:"wave",variant:"rect",className:e.avatar}),title:r.a.createElement(B.a,{animation:"wave",height:24,width:"66%",style:{marginBottom:6}}),subheader:r.a.createElement(B.a,{animation:"wave",height:10,width:"25%"})}))}var q=t(146),$=t(142),K=t(145),Q=t(144),V=t(143),X=t(24),Y=t(141),Z=t(37),ee=t.n(Z),ae=Object(p.a)((function(e){return{alertHeader:{backgroundColor:e.palette.warning.light},alertHeaderIcon:{position:"relative",top:4},divider:{width:"100%",height:e.spacing(1)},noWrap:{whiteSpace:"nowrap"}}}));function te(e){var a=e.open,t=e.onClose,n=e.data,c=Object(X.a)(),l=Object(Y.a)(c.breakpoints.down("sm")),o=r.a.createElement("div",null,"No active alerts");return Array.isArray(n)&&n.length>0&&(o=n.map((function(e){return r.a.createElement(ne,{key:e.id,alert:e.properties})}))),r.a.createElement($.a,{fullScreen:l,open:a,"aria-labelledby":"alert-dialog-title"},r.a.createElement(V.a,{id:"alert-dialog-title"},"Weather Alerts"),r.a.createElement(Q.a,null,o),r.a.createElement(K.a,null,r.a.createElement(q.a,{autoFocus:!0,onClick:t,color:"primary"},"Close")))}function ne(e){var a=e.alert,t=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{size:"small","aria-label":"weather alerts/advisories"},r.a.createElement(L.a,{className:t.alertHeader},r.a.createElement(R.a,null,r.a.createElement(M.a,{align:"left"},r.a.createElement(re,{level:a.severity})),r.a.createElement(M.a,{align:"right"},a.event))),r.a.createElement(U.a,null,r.a.createElement(R.a,null,r.a.createElement(M.a,{component:"th",colSpan:2},a.headline)),r.a.createElement(R.a,null,r.a.createElement(M.a,{align:"center",colSpan:2},a.areaDesc)),r.a.createElement(R.a,null,r.a.createElement(M.a,{align:"left"},"Effective:"),r.a.createElement(M.a,{align:"right"},a.effective)),r.a.createElement(R.a,null,r.a.createElement(M.a,{align:"left"},"Expires:"),r.a.createElement(M.a,{align:"right"},a.expires)))),r.a.createElement("div",{className:t.divider}))}function re(e){var a=e.level,t=ae();switch(a){default:case"Unknown":return null;case"Minor":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon}),r.a.createElement("span",null,"Minor"));case"Moderate":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"primary"}),r.a.createElement("span",null,"Moderate"));case"Severe":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"secondary"}),r.a.createElement("span",null,"Severe"));case"Extreme":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"error"}),r.a.createElement("span",null,"Extreme"))}}var ce=Object(p.a)((function(e){var a;return{root:{},appBar:(a={display:"none"},Object(d.a)(a,e.breakpoints.down("sm"),{display:"block"}),Object(d.a)(a,"marginBottom",e.spacing(1)),a),drawer:Object(d.a)({width:200,display:"none"},e.breakpoints.up("md"),{display:"inline-block"}),toolbar:{position:"relative"},title:{flexGrow:1},progress:{color:"gold"}}})),le={};function oe(){var e=Object(n.useState)(ie.initial),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(ie.initial),o=Object(m.a)(l,2),d=o[0],p=o[1],A=Object(n.useState)(ie.initial),W=Object(m.a)(A,2),D=W[0],F=W[1],T=Object(n.useState)(ie.initial),H=Object(m.a)(T,2),B=H[0],I=H[1],U=Object(n.useState)(ie.initial),M=Object(m.a)(U,2),L=M[0],R=M[1],z=[t,d,D,B,L],P=Object(n.useState)([]),G=Object(m.a)(P,2),q=G[0],$=G[1],K=Object(n.useState)([]),Q=Object(m.a)(K,2),V=Q[0],X=Q[1],Y=Object(n.useState)(null),Z=Object(m.a)(Y,2),ee=Z[0],ae=Z[1],ne=Object(n.useState)(null),re=Object(m.a)(ne,2),oe=re[0],me=re[1],de=Object(n.useState)(""),pe=Object(m.a)(de,2),fe=pe[0],ve=pe[1],Ee=Object(n.useState)(null),he=Object(m.a)(Ee,2),be=he[0],ge=he[1],we=Object(n.useState)(null),je=Object(m.a)(we,2),Oe=je[0],ye=je[1],ke=Object(n.useState)(null),Se=Object(m.a)(ke,2),xe=Se[0],Ne=Se[1],Ae=Object(n.useState)(null),Ce=Object(m.a)(Ae,2),We=Ce[0],De=Ce[1],Fe=Object(n.useState)(null),Te=Object(m.a)(Fe,2),He=Te[0],Be=Te[1],Ie=Object(n.useState)(null),Ue=Object(m.a)(Ie,2),Me=Ue[0],Le=Ue[1],Re=Object(n.useState)(!1),ze=Object(m.a)(Re,2),Pe=ze[0],Ge=ze[1],Je=ce();Object(n.useEffect)((function(){if(navigator.geolocation){c(ie.loading),navigator.geolocation.getCurrentPosition((function(e){ae(e.coords.latitude),me(e.coords.longitude),c(ie.loaded)}),(function(e){console.error(e),$((function(e){return[].concat(Object(u.a)(e),["Could not obtain device position."])})),ye([]),c(ie.error)}))}else $((function(e){return[].concat(Object(u.a)(e),["Geolocation not supported in this browser."])})),c(ie.error)}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.weather.gov/points/".concat(ee,",").concat(oe),{headers:le}).then((function(e){return e.json()}));case 3:r=e.sent,ve(se(null===r||void 0===r||null===(a=r.properties)||void 0===a?void 0:a.relativeLocation)),ge(null===r||void 0===r||null===(t=r.properties)||void 0===t?void 0:t.forecast),Ne(null===r||void 0===r||null===(n=r.properties)||void 0===n?void 0:n.forecastHourly),c="".concat(ee,",").concat(oe),Be("https://api.weather.gov/alerts/active?status=actual&message_type=alert,update,cancel&point=".concat(encodeURIComponent(c))),p(ie.loaded),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),$((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA grid point."])})),console.error(e.t0),ye([]),p(ie.error);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}"number"===typeof ee&&"number"===typeof oe&&(p(ie.loading),function(){e.apply(this,arguments)}())}),[ee,oe]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(be,{headers:le}).then((function(e){return e.json()}));case 3:t=e.sent,ye(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),F(ie.loaded),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),$((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA forecast."])})),console.error(e.t0),ye([]),F(ie.error);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}be&&(F(ie.loading),function(){e.apply(this,arguments)}())}),[be]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(xe).then((function(e){return e.json()}));case 3:t=e.sent,De(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),I(ie.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),X((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA hourly forecast."])})),console.error(e.t0),I(ie.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}xe&&(I(ie.loading),function(){e.apply(this,arguments)}())}),[xe]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(He).then((function(e){return e.json()}));case 3:a=e.sent,Le(null===a||void 0===a?void 0:a.features),R(ie.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),X((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA weather alerts."])})),console.error(e.t0),R(ie.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}He&&(R(ie.loading),function(){e.apply(this,arguments)}())}),[He]);var _e=z.every((function(e){return e===ie.loaded})),qe=Array.isArray(Me)?Me.length:0,$e=0===q.length&&0===V.length&&!_e;return r.a.createElement("div",{className:Je.root},r.a.createElement(E.a,{position:"static",className:Je.appBar},r.a.createElement(h.a,{className:Je.toolbar},r.a.createElement(b.a,{variant:"h6",noWrap:!0,className:Je.title},r.a.createElement("span",{role:"img","aria-label":"Skyanchor logo"},"\ud83c\udf29\ufe0f"),fe),$e&&r.a.createElement(x.a,{className:Je.progress}),r.a.createElement(g.a,{edge:"end",className:Je.menuButton,disabled:0===qe,color:"inherit","aria-label":"alerts",onClick:function(){return Ge(!0)}},qe>0?r.a.createElement(w.a,{badgeContent:qe,color:"error"},r.a.createElement(C.a,null)):r.a.createElement(C.a,null)))),r.a.createElement(v.a,{className:Je.drawer,variant:"permanent",anchor:"left"},r.a.createElement(O.a,null,r.a.createElement(y.a,{button:!0},r.a.createElement(k.a,null),r.a.createElement(S.a,{primary:"Alerts"}))),r.a.createElement(j.a,null)),r.a.createElement(f.a,{container:!0,direction:"column"},q.length>0&&r.a.createElement(f.a,{item:!0,xs:12,md:6},q.map((function(e,a){return r.a.createElement(N.a,{key:a,variant:"filled",severity:"error"},e)}))),V.length>0&&r.a.createElement(f.a,{item:!0,xs:12,md:6},V.map((function(e,a){return r.a.createElement(N.a,{key:a,variant:"filled",severity:"warning"},e)}))),Array.isArray(Oe)?Oe.map((function(e){return r.a.createElement(f.a,{item:!0,xs:12,md:6,key:"".concat(e.number,"_").concat(e.name)},r.a.createElement(J,{period:e,hourlyData:ue(We,e)}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)))),r.a.createElement(te,{data:Me,open:Pe,onClose:function(){return Ge(!1)}}))}var ie={initial:"initial",loading:"loading",error:"error",loaded:"loaded"},se=function(e){if(null===e||void 0===e?void 0:e.properties){var a=null===e||void 0===e?void 0:e.properties,t=a.city,n=a.state;return"".concat(t,", ").concat(n)}return""},ue=function(e,a){if(!Array.isArray(e)||!a)return[];var t=new Date(a.startTime),n=new Date(a.endTime);return e.filter((function(e){var a=new Date(e.startTime),r=new Date(e.endTime);return a>=t&&r<=n}))},me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/skyanchor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/skyanchor","/service-worker.js");me?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(a,e)}))}}()}},[[72,1,2]]]);
//# sourceMappingURL=main.a3877e72.chunk.js.map