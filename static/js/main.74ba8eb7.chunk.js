(this.webpackJsonpskyanchor=this.webpackJsonpskyanchor||[]).push([[0],{71:function(e,a,t){e.exports=t(84)},76:function(e,a,t){},78:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),o=(t(76),t(16)),i=t.n(o),s=t(36),u=t(23),m=t(9),d=t(26),p=t(128),f=t(155),v=t(157),E=t(147),h=t(148),b=t(17),g=t(150),w=t(151),y=t(152),j=t(158),O=t(153),k=t(154),S=t(149),x=t(156),N=t(38),A=t.n(N),C=(t(78),t(159)),W=t(135),D=t(136),T=t(137),F=t(138),H=t(139),B=t(140),I=t(130),U=t(134),M=t(133),z=t(131),L=t(132),R=Object(p.a)((function(e){return{root:{maxWidth:345},noWrap:{whiteSpace:"nowrap"},extraData:Object(d.a)({},e.breakpoints.down("xs"),{display:"none"})}}));function P(e){var a=e.data,t=R();return Array.isArray(a)?r.a.createElement(I.a,{size:"small","aria-label":"hourly weather table"},r.a.createElement(z.a,null,r.a.createElement(L.a,null,r.a.createElement(M.a,null,"Time"),r.a.createElement(M.a,{align:"right"},"Forecast"),r.a.createElement(M.a,{align:"right"},"Temperature"),r.a.createElement(M.a,{align:"right",className:t.extraData},"Wind"))),r.a.createElement(U.a,null,a.map((function(e){return r.a.createElement(L.a,{key:e.startTime},r.a.createElement(M.a,{component:"th",scope:"row"},(a=e.startTime,new Date(a).getHours()),":00"),r.a.createElement(M.a,{align:"right"},e.shortForecast),r.a.createElement(M.a,{align:"right",className:t.noWrap},"".concat(e.temperature," \xb0").concat(e.temperatureUnit)),r.a.createElement(M.a,{align:"right",className:"".concat(t.noWrap," ").concat(t.extraData)},"".concat(e.windSpeed," ").concat(e.windDirection)));var a})))):null}var G=Object(p.a)((function(e){return{forecast:{fontSize:"1.2em"},nowrap:{whiteSpace:"nowrap"},avatar:{width:e.spacing(8),height:e.spacing(8)},divider:{margin:"4px 0"},card:{margin:e.spacing(1)}}}));function J(e){var a=e.period,t=e.hourlyData,c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],s=G();if(!Array.isArray(t)||"object"!==typeof a)return null;return r.a.createElement(W.a,{className:s.card},r.a.createElement(D.a,{onClick:function(){return t.length>0?i(!o):void 0}},r.a.createElement(T.a,{avatar:r.a.createElement(C.a,{src:a.icon,variant:"square","aria-label":"weather icon",className:s.avatar}),title:r.a.createElement("span",{className:s.forecast},r.a.createElement("span",{className:s.nowrap},a.name)," - ",r.a.createElement("span",{className:s.nowrap},"".concat(a.temperature," \xb0").concat(a.temperatureUnit))," - ",r.a.createElement("span",{"aria-label":"brief forecast"},a.shortForecast)),subheader:function(e){var a=new Date(e);return null===a||void 0===a?void 0:a.toLocaleDateString()}(a.startTime)})),o&&r.a.createElement(F.a,null,r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p"}," ",a.detailedForecast," "),r.a.createElement(H.a,{variant:"middle",className:s.divider}),r.a.createElement(P,{data:t})))}function _(){var e=G();return r.a.createElement(W.a,{className:e.card},r.a.createElement(T.a,{avatar:r.a.createElement(B.a,{animation:"wave",variant:"rect",className:e.avatar}),title:r.a.createElement(B.a,{animation:"wave",height:24,width:"66%",style:{marginBottom:6}}),subheader:r.a.createElement(B.a,{animation:"wave",height:10,width:"25%"})}))}var q=t(146),$=t(142),K=t(145),Q=t(144),V=t(143),X=t(24),Y=t(141),Z=t(37),ee=t.n(Z),ae=Object(p.a)((function(e){return{alertHeader:{backgroundColor:e.palette.warning.light},alertHeaderIcon:{position:"relative",top:4},divider:{width:"100%",height:e.spacing(1)},noWrap:{whiteSpace:"nowrap"}}}));function te(e){var a=e.open,t=e.onClose,n=e.data,c=Object(X.a)(),l=Object(Y.a)(c.breakpoints.down("sm")),o=r.a.createElement("div",null,"No active alerts");return Array.isArray(n)&&n.length>0&&(o=n.map((function(e){return r.a.createElement(ne,{key:e.id,alert:e.properties})}))),r.a.createElement($.a,{fullScreen:l,open:a,"aria-labelledby":"alert-dialog-title"},r.a.createElement(V.a,{id:"alert-dialog-title"},"Weather Alerts"),r.a.createElement(Q.a,null,o),r.a.createElement(K.a,null,r.a.createElement(q.a,{autoFocus:!0,onClick:t,color:"primary"},"Close")))}function ne(e){var a=e.alert,t=ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{size:"small","aria-label":"weather alerts/advisories"},r.a.createElement(z.a,{className:t.alertHeader},r.a.createElement(L.a,null,r.a.createElement(M.a,{align:"left"},r.a.createElement(re,{level:a.severity})),r.a.createElement(M.a,{align:"right"},a.event))),r.a.createElement(U.a,null,r.a.createElement(L.a,null,r.a.createElement(M.a,{component:"th",colSpan:2},a.headline)),r.a.createElement(L.a,null,r.a.createElement(M.a,{align:"center",colSpan:2},a.areaDesc)),r.a.createElement(L.a,null,r.a.createElement(M.a,{align:"left"},"Effective:"),r.a.createElement(M.a,{align:"right"},a.effective)),r.a.createElement(L.a,null,r.a.createElement(M.a,{align:"left"},"Expires:"),r.a.createElement(M.a,{align:"right"},a.expires)))),r.a.createElement("div",{className:t.divider}))}function re(e){var a=e.level,t=ae();switch(a){default:case"Unknown":return null;case"Minor":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon}),r.a.createElement("span",null,"Minor"));case"Moderate":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"primary"}),r.a.createElement("span",null,"Moderate"));case"Severe":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"secondary"}),r.a.createElement("span",null,"Severe"));case"Extreme":return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:t.alertHeaderIcon,color:"error"}),r.a.createElement("span",null,"Extreme"))}}var ce=Object(p.a)((function(e){var a;return{root:{},drawerContainer:{display:"flex"},appBar:(a={display:"none"},Object(d.a)(a,e.breakpoints.down("sm"),{display:"block"}),Object(d.a)(a,"marginBottom",e.spacing(1)),a),drawer:Object(d.a)({width:200,display:"none"},e.breakpoints.up("md"),{display:"inline-block"}),list:{paddingTop:0},listHeader:{backgroundColor:e.palette.primary.dark,color:"white"},toolbar:{position:"relative"},title:{flexGrow:1},progress:{color:"gold"}}})),le={};function oe(){var e=Object(n.useState)(ie.initial),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(ie.initial),o=Object(m.a)(l,2),d=o[0],p=o[1],N=Object(n.useState)(ie.initial),C=Object(m.a)(N,2),W=C[0],D=C[1],T=Object(n.useState)(ie.initial),F=Object(m.a)(T,2),H=F[0],B=F[1],I=Object(n.useState)(ie.initial),U=Object(m.a)(I,2),M=U[0],z=U[1],L=[t,d,W,H,M],R=Object(n.useState)([]),P=Object(m.a)(R,2),G=P[0],q=P[1],$=Object(n.useState)([]),K=Object(m.a)($,2),Q=K[0],V=K[1],X=Object(n.useState)(null),Y=Object(m.a)(X,2),Z=Y[0],ee=Y[1],ae=Object(n.useState)(null),ne=Object(m.a)(ae,2),re=ne[0],oe=ne[1],me=Object(n.useState)(""),de=Object(m.a)(me,2),pe=de[0],fe=de[1],ve=Object(n.useState)(null),Ee=Object(m.a)(ve,2),he=Ee[0],be=Ee[1],ge=Object(n.useState)(null),we=Object(m.a)(ge,2),ye=we[0],je=we[1],Oe=Object(n.useState)(null),ke=Object(m.a)(Oe,2),Se=ke[0],xe=ke[1],Ne=Object(n.useState)(null),Ae=Object(m.a)(Ne,2),Ce=Ae[0],We=Ae[1],De=Object(n.useState)(null),Te=Object(m.a)(De,2),Fe=Te[0],He=Te[1],Be=Object(n.useState)(null),Ie=Object(m.a)(Be,2),Ue=Ie[0],Me=Ie[1],ze=Object(n.useState)(!1),Le=Object(m.a)(ze,2),Re=Le[0],Pe=Le[1],Ge=ce();Object(n.useEffect)((function(){if(navigator.geolocation){c(ie.loading),navigator.geolocation.getCurrentPosition((function(e){ee(e.coords.latitude),oe(e.coords.longitude),c(ie.loaded)}),(function(e){console.error(e),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain device position."])})),je([]),c(ie.error)}))}else q((function(e){return[].concat(Object(u.a)(e),["Geolocation not supported in this browser."])})),c(ie.error)}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.weather.gov","/points/").concat(Z,",").concat(re),{headers:le}).then((function(e){return e.json()}));case 3:r=e.sent,fe(se(null===r||void 0===r||null===(a=r.properties)||void 0===a?void 0:a.relativeLocation)),be(null===r||void 0===r||null===(t=r.properties)||void 0===t?void 0:t.forecast),xe(null===r||void 0===r||null===(n=r.properties)||void 0===n?void 0:n.forecastHourly),c="".concat(Z,",").concat(re),He("".concat("https://api.weather.gov","/alerts/active?status=actual&message_type=alert,update,cancel&point=").concat(encodeURIComponent(c))),p(ie.loaded),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA grid point."])})),console.error(e.t0),je([]),p(ie.error);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}"number"===typeof Z&&"number"===typeof re&&(p(ie.loading),function(){e.apply(this,arguments)}())}),[Z,re]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(he,{headers:le}).then((function(e){return e.json()}));case 3:t=e.sent,je(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),D(ie.loaded),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),q((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA forecast."])})),console.error(e.t0),je([]),D(ie.error);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}he&&(D(ie.loading),function(){e.apply(this,arguments)}())}),[he]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Se).then((function(e){return e.json()}));case 3:t=e.sent,We(null===t||void 0===t||null===(a=t.properties)||void 0===a?void 0:a.periods),B(ie.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),V((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA hourly forecast."])})),console.error(e.t0),B(ie.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Se&&(B(ie.loading),function(){e.apply(this,arguments)}())}),[Se]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Fe).then((function(e){return e.json()}));case 3:a=e.sent,Me(null===a||void 0===a?void 0:a.features),z(ie.loaded),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),V((function(e){return[].concat(Object(u.a)(e),["Could not obtain NOAA weather alerts."])})),console.error(e.t0),z(ie.error);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Fe&&(z(ie.loading),function(){e.apply(this,arguments)}())}),[Fe]);var Je=L.every((function(e){return e===ie.loaded})),_e=Array.isArray(Ue)?Ue.length:0,qe=0===G.length&&0===Q.length&&!Je;return r.a.createElement("div",{className:Ge.root},r.a.createElement(E.a,{position:"static",className:Ge.appBar},r.a.createElement(h.a,{className:Ge.toolbar},r.a.createElement(b.a,{variant:"h6",noWrap:!0,className:Ge.title},r.a.createElement("span",{role:"img","aria-label":"Skyanchor mobile logo"},"\ud83c\udf29\ufe0f"),r.a.createElement("span",{"aria-label":"location"},pe)),qe&&r.a.createElement(S.a,{className:Ge.progress}),r.a.createElement(g.a,{edge:"end",className:Ge.menuButton,disabled:0===_e,color:"inherit","aria-label":"alerts",onClick:function(){return Pe(!0)}},_e>0?r.a.createElement(w.a,{badgeContent:_e,color:"error"},r.a.createElement(A.a,null)):r.a.createElement(A.a,null)))),r.a.createElement("div",{className:Ge.drawerContainer},r.a.createElement(v.a,{className:Ge.drawer,variant:"permanent",anchor:"left"},r.a.createElement(y.a,{component:"nav","aria-label":"weather location and options",className:Ge.list},r.a.createElement(j.a,{className:Ge.listHeader},r.a.createElement(O.a,null,r.a.createElement("span",{role:"img","aria-label":"Skyanchor desktop logo"},"\ud83c\udf29\ufe0f"),qe&&r.a.createElement(S.a,{size:20,className:Ge.progress})),r.a.createElement(k.a,{primary:r.a.createElement("span",{"aria-label":"location"},pe)})),r.a.createElement(j.a,{button:!0,disabled:0===_e,onClick:function(){return Pe(!0)}},r.a.createElement(O.a,null,_e>0?r.a.createElement(w.a,{badgeContent:_e,color:"error"},r.a.createElement(A.a,null)):r.a.createElement(A.a,null)),r.a.createElement(k.a,{primary:"Alerts"})))),r.a.createElement(f.a,{container:!0,direction:"column"},G.length>0&&r.a.createElement(f.a,{item:!0,xs:12},G.map((function(e,a){return r.a.createElement(x.a,{key:a,variant:"filled",severity:"error"},e)}))),Q.length>0&&r.a.createElement(f.a,{item:!0,xs:12},Q.map((function(e,a){return r.a.createElement(x.a,{key:a,variant:"filled",severity:"warning"},e)}))),Array.isArray(ye)?ye.map((function(e){return r.a.createElement(f.a,{item:!0,xs:12,key:"".concat(e.number,"_").concat(e.name)},r.a.createElement(J,{period:e,hourlyData:ue(Ce,e)}))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(_,null))))),r.a.createElement(te,{data:Ue,open:Re,onClose:function(){return Pe(!1)}}))}var ie={initial:"initial",loading:"loading",error:"error",loaded:"loaded"};function se(e){if(null===e||void 0===e?void 0:e.properties){var a=null===e||void 0===e?void 0:e.properties,t=a.city,n=a.state;if("string"===typeof t&&"string"===typeof n)return"".concat(t,", ").concat(n)}return""}function ue(e,a){if(!Array.isArray(e)||!a)return[];var t=new Date(a.startTime),n=new Date(a.endTime);return e.filter((function(e){var a=new Date(e.startTime),r=new Date(e.endTime);return a>=t&&r<=n}))}var me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/skyanchor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/skyanchor","/service-worker.js");me?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(a,e)}))}}()}},[[71,1,2]]]);
//# sourceMappingURL=main.74ba8eb7.chunk.js.map